webpackJsonp([7],{"7OJz":function(t,e,n){"use strict";e.c=function(t,e){var n=i()(t);localStorage.setItem(e,n)},e.a=function(t){var e=localStorage.getItem(t);return JSON.parse(e)},e.b=function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},e.d=function(t){t.style.margin="0px",t.style.height="100%"};var a=n("mvHQ"),i=n.n(a)},"I/Y0":function(t,e){},IcnI:function(t,e,n){"use strict";var a,i=n("7+uW"),o=n("NYxO"),r={increment:function(t){(0,t.commit)("INCREMENT")},decrement:function(t){(0,t.commit)("DECREMENT")}},s=n("bOdI"),c=n.n(s),u={state:{count:20,token:""},mutations:(a={},c()(a,"INCREMENT",function(t){t.count++}),c()(a,"DECREMENT",function(t){t.count--}),a),getters:{count:function(t){return t.count}}},l={namespaced:!0,state:{items:[]},getters:{getItem:function(t){return t.items}},actions:{addToCar:function(t,e){(0,t.commit)("updateCart",e)},deleteGoods:function(t,e){(0,t.commit)("deleteGoods",e)},jianGoodNum:function(t,e){(0,t.commit)("jianGoodNum",e)},addGoodNum:function(t,e){(0,t.commit)("addGoodNum",e)}},mutations:{updateCart:function(t,e){t.items.push(e.optGoodInfo),e.layer.open({btn:["确认","去购物车"],content:"添加到购物车成功~",shade:!0,success:function(t){},yes:function(t,e){},no:function(){e.routerSelf.replace("/cart")},end:function(){}})},deleteGoods:function(t,e){for(var n=0;t.items[n];n++)e.indexOf(t.items[n].goodId)>-1&&(t.items.splice(n,1),n-=1)},jianGoodNum:function(t,e){for(var n=0;t.items[n];n++){var a=t.items[n];a.goodId==e&&(a.buyCount=a.buyCount>1?a.buyCount-1:a.buyCount)}},addGoodNum:function(t,e){for(var n=0;t.items[n];n++){var a=t.items[n];a.goodId==e&&(a.buyCount+=1)}}}};i.default.use(o.a);e.a=new o.a.Store({modules:{global:u,cart:l},actions:r})},JU1R:function(t,e,n){"use strict";var a=n("M93x"),i=function(t){return n.e(5).then(function(){return t(n("RpyC"))}.bind(null,n)).catch(n.oe)};e.a=[{path:"/",component:a.a,children:[{path:"",redirect:"/home"},{name:"home",path:"/home",component:function(t){return n.e(0).then(function(){return t(n("X6d5"))}.bind(null,n)).catch(n.oe)},meta:{title:"首页"},children:[{path:"homeChildOne",component:i},{path:"homeChildOne",component:i}]},{name:"me",path:"/me",component:function(t){return n.e(0).then(function(){return t(n("zH8O"))}.bind(null,n)).catch(n.oe)},meta:{title:"我的",requireAuth:!0}},{name:"find",path:"/find",component:function(t){return n.e(0).then(function(){return t(n("lA/f"))}.bind(null,n)).catch(n.oe)},meta:{title:"发现"}},{name:"think",path:"/think",component:function(t){return n.e(0).then(function(){return t(n("YNB+"))}.bind(null,n)).catch(n.oe)},meta:{title:"想法"}},{name:"detail",path:"/detail",component:function(t){return n.e(0).then(function(){return t(n("tgJt"))}.bind(null,n)).catch(n.oe)}},{name:"resume",path:"/resume",component:function(t){return n.e(2).then(function(){return t(n("AzvZ"))}.bind(null,n)).catch(n.oe)}},{name:"cart",path:"/cart",component:function(t){return n.e(3).then(function(){return t(n("rAYH"))}.bind(null,n)).catch(n.oe)},meta:{requireAuth:!0,title:"我的购物车"}},{name:"login",path:"/login",component:function(t){return n.e(1).then(function(){return t(n("QrVH"))}.bind(null,n)).catch(n.oe)}},{name:"register",path:"/register",component:function(t){return n.e(4).then(function(){return t(n("h59L"))}.bind(null,n)).catch(n.oe)}},{path:"*",component:404}]}]},Jrej:function(t,e,n){"use strict";var a={name:"Layer",props:{uuid:{type:Number,default:+Math.random().toString().substr(-6)},value:{type:Boolean,default:!1},title:{type:null,default:!1},btn:{type:null,default:!1},top:{type:Number,default:100},time:Number,skin:String,className:String,styles:String,content:String,type:{type:Number,default:0},shade:{type:Boolean,default:!0},shadeClose:{type:Boolean,default:!0},fixed:{type:Boolean,default:!0},anim:{type:[String,Boolean],default:"scale",validator:function(t){return-1!==[!1,"scale","up"].indexOf(t)}},success:Function,yes:Function,no:Function,end:Function},data:function(){return{visible:!1}},created:function(){this.timeId=null,this.value&&(this.visible=!0)},destroyed:function(){this.timeId&&clearTimeout(this.timeId)},computed:{layerClass:function(){var t=[];return this.skin&&t.push("layui-m-layer-"+this.skin),this.className&&t.push(this.className),this.anim&&t.push("layui-m-anim-"+this.anim),t.join(" ")},aTitle:function(){var t=this.title;return"string"==typeof t&&(t=[t]),0!==(t||[]).length&&this.btn?t:""},btns:function(){var t=this.btn;"string"==typeof t&&(t=[t]);var e=(t||[]).length;return 0!==e&&this.btn?t.slice(0,2):""}},methods:{shadeCloseFn:function(){this.shade&&this.shadeClose&&this.$emit("close")},handleClick:function(t){var e=void 0;e=1===+t.target.dataset.type?"sure":"cancel",this.$emit(e)}},watch:{visible:function(t){var e=this;t&&e.time>=0&&(clearTimeout(e.timeId),e.$emit("input",!0),e.$emit("show"),e.timeId=setTimeout(function(){e.$emit("input",!1),e.$emit("close")},1e3*e.time))},value:function(t){this.visible=t}}},i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"layui-m-layer",class:"layui-m-layer"+t.type,attrs:{id:"layui-m-layer"+t.uuid,index:t.uuid}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.shade,expression:"shade"}],staticClass:"layui-m-layershade",on:{click:t.shadeCloseFn}}),t._v(" "),n("div",{staticClass:"layui-m-layermain",style:t.fixed?"":"position:static;"},[n("div",{staticClass:"layui-m-layersection"},[n("div",{staticClass:"layui-m-layerchild",class:t.layerClass,style:t.styles},[t.aTitle?n("h3",{style:t.aTitle[1]},[t._v(t._s(t.aTitle[0]))]):t._e(),t._v(" "),t.content?[2!=t.type?n("div",{staticClass:"layui-m-layercont",domProps:{innerHTML:t._s(t.content)}}):n("div",{staticClass:"layui-m-layercont"},[n("i"),n("i",{staticClass:"layui-m-layerload"}),n("i"),t._v(" "),n("div",{domProps:{innerHTML:t._s(t.content)}})])]:[2!=t.type?n("div",{staticClass:"layui-m-layercont"},[t._t("default")],2):n("div",{staticClass:"layui-m-layercont"},[n("i"),n("i",{staticClass:"layui-m-layerload"}),n("i"),t._v(" "),n("div",[t._t("default")],2)])],t._v(" "),t.btns?n("div",{staticClass:"layui-m-layerbtn"},[t.btns[1]?n("span",{attrs:{no:"","data-type":"0"},on:{click:function(e){e.stopPropagation(),t.handleClick(e)}}},[t._v(t._s(t.btns[1]))]):t._e(),t._v(" "),n("span",{attrs:{yes:"","data-type":"1"},on:{click:function(e){e.stopPropagation(),t.handleClick(e)}}},[t._v(t._s(t.btns[0]))])]):t._e()],2)])])])},staticRenderFns:[]};var o=n("VU/8")(a,i,!1,function(t){n("ffL/")},"data-v-0dffc8aa",null);e.a=o.exports},M93x:function(t,e,n){"use strict";var a={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"footer"}},[this._t("default")],2)},staticRenderFns:[]};var i=n("VU/8")({},a,!1,function(t){n("I/Y0")},null,null).exports,o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("router-link",{class:{activeC:this.active},attrs:{to:this.path}},[this._v("\n    "+this._s(this.label)+"\n  ")])],1)},staticRenderFns:[]};var r=n("VU/8")({props:["path","label","icon","active","index"]},o,!1,function(t){n("oWlG")},null,null).exports,s={props:["title","isHome"],data:function(){return{hasToken:!1}},computed:{checkHasToken:function(){return!!this.$store.state.global.token}},methods:{goBack:function(){window.history.go(-1)}}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex",attrs:{id:"header"}},[t.isHome?n("span",{staticClass:"flex-1"},[t._v(" ")]):n("span",{staticClass:"flex-1",on:{click:t.goBack}},[t._v("<")]),t._v(" "),n("span",{staticClass:"title"},[t._v("\n        "+t._s(t.title)+"\n  ")]),t._v(" "),t.isHome?n("span",{staticClass:"flex-1"},[t.checkHasToken?t._e():n("router-link",{staticClass:"c-bai",staticStyle:{"font-size":".4rem"},attrs:{to:"/login"}},[t._v("登录")])],1):n("span",{staticClass:"flex-1"},[t._v(" ")])])},staticRenderFns:[]};var u=n("VU/8")(s,c,!1,function(t){n("neUj")},"data-v-d6344974",null).exports,l={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"my-navbar flex",attrs:{id:"footer"}},[this._t("default")],2)},staticRenderFns:[]};var d={components:{Bar:i,BarItem:r,MyFooter:n("VU/8")({data:function(){return{}}},l,!1,function(t){n("q6a5")},"data-v-3f977324",null).exports,MyHeader:u},data:function(){return{title:"",isHome:!0,isLayout:!0,barItems:[{path:"/home",label:"首页",icon:"home",index:0,active:1},{path:"/think?name=xiao&&age=24",label:"想法",icon:"think",index:1,active:0},{path:"/find",label:"发现",icon:"find",index:2,active:0},{path:"/cart",label:"购物车",icon:"me",index:3,active:0},{path:"/me",label:"我",icon:"me",index:4,active:0}]}},methods:{changeTitle:function(t,e){var n=this;this.isLayout=!0,this.isHome=0==t,this.barItems.forEach(function(a,i){i===t?(a.active=1,n.title=e):a.active=0})},toDetail:function(t){this.isLayout=t}}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"wrap"}},[t.isLayout?n("my-header",{attrs:{title:t.title,isHome:t.isHome}}):t._e(),t._v(" "),n("div",{attrs:{id:"content"}},[n("transition",{attrs:{name:"fade",mode:"out-in",appear:""}},[n("router-view",{on:{jumpTo:t.changeTitle,jumpToDetail:t.toDetail}})],1)],1),t._v(" "),t.isLayout?n("my-footer",t._l(t.barItems,function(t,e){return n("bar-item",{key:e,attrs:{path:t.path,label:t.label,icon:t.icon,active:t.active,index:e}})})):t._e()],1)},staticRenderFns:[]};var f=n("VU/8")(d,m,!1,function(t){n("YAoY")},null,null);e.a=f.exports},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var e=n("7+uW"),a=(n("M93x"),n("/ocq")),i=n("JU1R"),o=n("Au9i"),r=n.n(o),s=n("IcnI"),c=n("d8/S"),u=(n.n(c),n("RmtD")),l=(n.n(u),n("v5o6")),d=n.n(l),m=n("XQDi"),f=n("oPmM"),h=(n.n(f),n("Y8t/")),p=n("7OJz"),v=n("gyMJ"),y=n("cTzj"),b=n.n(y);d.a.attach(document.body),e.default.prototype.$http=h.a,e.default.component(o.Loadmore.name,o.Loadmore),e.default.component(o.Toast.name,o.Toast),e.default.config.productionTip=!0,e.default.config.devtools=!0,e.default.use(a.a),e.default.use(r.a),e.default.use(m.a),e.default.use(b.a,{preLoad:2,error:"",loading:"",attempt:2});var g=new a.a({mode:"history",base:t,routes:i.a}),C=Object(p.a)("token");s.a.state.global.token=C?C.token:"",g.beforeEach(function(t,e,n){var a=s.a.state.global.token;t.meta.requireAuth?a?h.a.post(v.a,{actionMsg:"addTokenTime",token:a}).then(function(e){if(e.code)switch(e.data.token_status){case 0:n({path:"/login",query:{redirect:t.fullPath}});break;case 1:s.a.state.global.token=e.data.token,Object(p.c)({token:e.data.token},"token"),n();break;case 2:n();break;default:m.a.alert("错误~")}else m.a.alert(e.msg)}):n({path:"/login",query:{redirect:t.fullPath}}):n()}),new e.default({router:g,store:s.a,layer:m.a}).$mount("#app")}.call(e,"/")},RmtD:function(t,e){!function(t,e){var n,a=t.document,i=a.documentElement,o=a.querySelector('meta[name="viewport"]'),r=a.querySelector('meta[name="flexible"]'),s=0,c=0,u=e.flexible||(e.flexible={});if(o){var l=o.getAttribute("content").match(/initial\-scale=([\d\.]+)/);l&&(c=parseFloat(l[1]),s=parseInt(1/c))}else if(r){var d=r.getAttribute("content");if(d){var m=d.match(/initial\-dpr=([\d\.]+)/),f=d.match(/maximum\-dpr=([\d\.]+)/);m&&(s=parseFloat(m[1]),c=parseFloat((1/s).toFixed(2))),f&&(s=parseFloat(f[1]),c=parseFloat((1/s).toFixed(2)))}}if(!s&&!c){t.navigator.appVersion.match(/android/gi);var h=t.navigator.appVersion.match(/iphone/gi),p=t.devicePixelRatio;c=1/(s=h?p>=3&&(!s||s>=3)?3:p>=2&&(!s||s>=2)?2:1:1)}if(i.setAttribute("data-dpr",s),!o)if((o=a.createElement("meta")).setAttribute("name","viewport"),o.setAttribute("content","initial-scale="+c+", maximum-scale="+c+", minimum-scale="+c+", user-scalable=no"),i.firstElementChild)i.firstElementChild.appendChild(o);else{var v=a.createElement("div");v.appendChild(o),a.write(v.innerHTML)}function y(){var e=i.getBoundingClientRect().width;e/s>540&&(e=540*s);var n=e/10;i.style.fontSize=n+"px",u.rem=t.rem=n}t.addEventListener("resize",function(){clearTimeout(n),n=setTimeout(y,300)},!1),t.addEventListener("pageshow",function(t){t.persisted&&(clearTimeout(n),n=setTimeout(y,300))},!1),"complete"===a.readyState?a.body.style.fontSize=12*s+"px":a.addEventListener("DOMContentLoaded",function(t){a.body.style.fontSize=12*s+"px"},!1),y(),u.dpr=t.dpr=s,u.refreshRem=y,u.rem2px=function(t){var e=parseFloat(t)*this.rem;return"string"==typeof t&&t.match(/rem$/)&&(e+="px"),e},u.px2rem=function(t){var e=parseFloat(t)/this.rem;return"string"==typeof t&&t.match(/px$/)&&(e+="rem"),e}}(window,window.lib||(window.lib={}))},"Y8t/":function(t,e,n){"use strict";var a=n("//Fk"),i=n.n(a),o=n("mtWM"),r=n.n(o),s=n("mw3O"),c=n.n(s);r.a.defaults.timeout=5e3,r.a.defaults.baseURL="http://127.0.0.1:8090/api/v1",r.a.interceptors.request.use(function(t){return t.data=t.data,t.headers={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},t},function(t){return i.a.reject(err)}),r.a.interceptors.response.use(function(t){return t},function(t){return i.a.reject(t)}),e.a={get:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new i.a(function(n,a){r.a.get(t,{params:e}).then(function(t){n(t.data)}).catch(function(t){a(t)})})},post:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new i.a(function(n,a){r.a.post(t,c.a.stringify(e)).then(function(t){n(t.data)},function(t){a(t)})})},patch:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new i.a(function(n,a){r.a.patch(t,e).then(function(t){n(t.data)},function(t){a(t)})})},put:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new i.a(function(n,a){r.a.put(t,e).then(function(t){n(t.data)},function(t){a(t)})})}}},YAoY:function(t,e){},"d8/S":function(t,e){},"ffL/":function(t,e){},gyMJ:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"d",function(){return r}),n.d(e,"e",function(){return s});var a="/unlogin/loginFromDb",i="/unlogin/register",o="/logined/checkTokenByDb",r="/unlogin/home",s="/unlogin/homeList"},neUj:function(t,e){},oPmM:function(t,e){},oWlG:function(t,e){},q6a5:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.cc6eba1db37d7070c999.js.map